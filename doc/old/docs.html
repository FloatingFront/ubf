<body bgcolor="white">

<h3>Starting a service in UBF (server-side)</h3>
<p>
<center>
<img src="start_server_ubf.gif">
</center>
<p><b>
<ul>
<li>+deftype startRequestB() = {start, Service, Args}.
<li>+deftype startRequestC() = {start, ReplyTo, ReplyAs, Service, Args}.
<li>+deftype startRequestD() = {start, replyTo, ReplyAs, Args}
<li>+deftype startRequestE() = {start, PidContract, Args}
<li>+deftype startOK() = {ok, Contract}
</ul>
<p>
<ol>
<li>The ubf listener receives a socket open request and spawns a
ubf driver.
<li>The driver asks p2p server if it can start a new service
<li>The sever relays the message to the manager for service A.
<li>The manager spawns a contract manager
<li>The contract manager spawns a handler
<li>The handler sends a contract back to the contract manager
<li>The contract manager replies to the driver
<li>The driver replies to the client
</ol>
<p>
<hr>
<h3>Starting a service in UBF (client-side)</h3>
<p>
<center>
<img src="start_client_ubf.gif">
</center>
<p><b>
<ul>
<li>+deftype startRequestA() = {start, Host, Port, Service, Args}.
<li>+deftype startRequestB() = {start, Service, Args}.
<li>+deftype startOK() = {ok, Contract}
</ul>
<hr>
<h3>Starting a service (failure modes)</h3>
<p>
<center>
<img src="start_fail1.gif">
</center>
<pre>

</pre>
<ul>
The manager refuses to start the session
<pre>

</pre>
</ul>
<p>
<center>
<img src="start_fail2.gif">
</center>
<p>
<ul>
<p>There is no manager registered with the server so the server
cannot ask the manager and the connection is rejected
</ul>
<hr>

<h3>Message passing (rpc and cast)</h3>
<center>
<img src="msg1.gif">
</center>
<p>
<hr>
<p>
<h3>Starting a service (Client-side)</h3>

<center>
<img src="start_client.gif">
</center>
<p>Starting a service client side.
<hr>
<h3>Termination</h3>
<center>
<img src="termination.gif">
</center>
<ul>
The termination protocol occurs when a client of server handler dies.
</ul>
<hr>
<h3>Manager - (Client, Server) registration protocol</h3>
<center>
<img src="register.gif">
</center>
Before a manager can do anything it must register itself with
the client and server
</ul>







